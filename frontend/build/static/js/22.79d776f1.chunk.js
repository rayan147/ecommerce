(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[22],{213:function(e,t,n){"use strict";n(0);var a=n(171),r=n(172),c=n(148),o=n(2);t.a=function(e){var t=e.children;return Object(o.jsx)(a.a,{children:Object(o.jsx)(r.a,{className:"justify-content-md-center ",children:Object(o.jsx)(c.a,{xs:12,md:6,children:t})})})}},226:function(e,t,n){"use strict";var a=n(188),r=n.n(a),c=n(189),o=n(190),s=n.n(o),i=n(13),u=i.a.PRODUCT_DETAILS_FAILURE,l=i.a.PRODUCT_DETAILS_REQUEST,d=i.a.PRODUCT_DETAILS_SUCCESS;t.a=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a,c,o,i,j;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:l}),t.next=4,s()("/api/products/".concat(e));case 4:a=t.sent,c=a.data,n({type:d,payload:c}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:u,payload:null!==(o=null===t.t0||void 0===t.t0||null===(i=t.t0.response)||void 0===i||null===(j=i.data)||void 0===j?void 0:j.message)&&void 0!==o?o:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}},344:function(e,t,n){"use strict";n.r(t);var a=n(188),r=n.n(a),c=n(189),o=n(41),s=n(0),i=n(190),u=n.n(i),l=n(330),d=n(345),j=n(38),p=n(51),b=n(333),h=n(2),O=function(e){var t=e.severity,n=e.children;return Object(h.jsx)(b.a,{severity:t,children:n})},x=n(213),v=n(226),f=n(13),g=n(82),m=f.a.PRODUCT_UPDATE_REQUEST,y=f.a.PRODUCT_UPDATE_SUCCESS,C=f.a.PRODUCT_DETAILS_SUCCESS,S=f.a.PRODUCT_UPDATE_FAILURE,E=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n,a){var c,o,s,i,l,d;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:m}),c=a(),o=c.userLogin.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.token)}},t.next=6,u.a.put("/api/products/".concat(e._id),e,s);case 6:i=t.sent,l=i.data,n({type:y,payload:l}),n({type:C,payload:l}),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(0),"Unauthorized,no token provide"===(d=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&n(Object(g.a)()),n({type:S,payload:d});case 17:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}()},U=f.a.PRODUCT_UPDATE_RESET;t.default=function(e){var t=e.match,n=e.history,a=t.params.id,i=Object(s.useState)(""),b=Object(o.a)(i,2),f=b[0],g=b[1],m=Object(s.useState)(0),y=Object(o.a)(m,2),C=y[0],S=y[1],T=Object(s.useState)(""),D=Object(o.a)(T,2),I=D[0],_=D[1],L=Object(s.useState)(""),k=Object(o.a)(L,2),P=k[0],R=k[1],A=Object(s.useState)(""),w=Object(o.a)(A,2),G=w[0],F=w[1],B=Object(s.useState)(0),N=Object(o.a)(B,2),z=N[0],J=N[1],Q=Object(s.useState)(""),q=Object(o.a)(Q,2),H=q[0],K=q[1],M=Object(s.useState)(!1),V=Object(o.a)(M,2),W=V[0],X=V[1],Y=Object(j.b)(),Z=Object(j.c)((function(e){return e.productDetails})),$=Z.loading,ee=Z.error,te=Z.product,ne=Object(j.c)((function(e){return e.productUpdate})),ae=ne.loading,re=ne.error,ce=ne.success;Object(s.useEffect)((function(){ce?(Y({type:U}),n.push("/admin/productlist")):te.name&&te._id===a?(g(te.name),S(te.price),_(te.image),R(te.brand),F(te.category),J(te.countInStock),K(te.description)):Y(Object(v.a)(a))}),[Y,n,a,te,ce]);var oe=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,c,o,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.files[0],(a=new FormData).append("image",n),X(!0),e.prev=4,c={headers:{"Content-Type":"multipart/form-data"}},e.next=8,u.a.post("/api/upload",a,c);case 8:o=e.sent,s=o.data,_(s),X(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),console.error(e.t0),X(!1);case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(p.Link,{to:"/admin/productlist",className:"btn btn-light my-3",children:"Go Back"}),Object(h.jsxs)(x.a,{children:[Object(h.jsx)("h1",{children:"Edit Product"}),ae&&Object(h.jsx)("h2",{children:"Loading.."}),re&&Object(h.jsx)(O,{variant:"danger",children:re}),$?Object(h.jsx)("h2",{children:"Loading.."}):ee?Object(h.jsx)(O,{variant:"danger",children:ee}):Object(h.jsxs)(l.a,{onSubmit:function(e){e.preventDefault(),Y(E({_id:a,name:f,price:C,image:I,brand:P,category:G,description:H,countInStock:z}))},children:[Object(h.jsxs)(l.a.Group,{controlId:"name",children:[Object(h.jsx)(l.a.Label,{children:"Name"}),Object(h.jsx)(l.a.Control,{type:"name",placeholder:"Enter name",value:f,onChange:function(e){return g(e.target.value)}})]}),Object(h.jsxs)(l.a.Group,{controlId:"price",children:[Object(h.jsx)(l.a.Label,{children:"Price"}),Object(h.jsx)(l.a.Control,{type:"number",placeholder:"Enter price",value:C,onChange:function(e){return S(e.target.value)}})]}),Object(h.jsxs)(l.a.Group,{controlId:"image",children:[Object(h.jsx)(l.a.Label,{children:"Image"}),Object(h.jsx)(l.a.Control,{type:"text",placeholder:"Enter image url",value:I,onChange:function(e){return _(e.target.value)}}),Object(h.jsx)(l.a.File,{id:"image-file",label:"Choose File",custom:!0,onChange:oe}),W&&Object(h.jsx)("h2",{children:"Loading.."})]}),Object(h.jsxs)(l.a.Group,{controlId:"brand",children:[Object(h.jsx)(l.a.Label,{children:"Brand"}),Object(h.jsx)(l.a.Control,{type:"text",placeholder:"Enter brand",value:P,onChange:function(e){return R(e.target.value)}})]}),Object(h.jsxs)(l.a.Group,{controlId:"countInStock",children:[Object(h.jsx)(l.a.Label,{children:"Count In Stock"}),Object(h.jsx)(l.a.Control,{type:"number",placeholder:"Enter countInStock",value:z,onChange:function(e){return J(e.target.value)}})]}),Object(h.jsxs)(l.a.Group,{controlId:"category",children:[Object(h.jsx)(l.a.Label,{children:"Category"}),Object(h.jsx)(l.a.Control,{type:"text",placeholder:"Enter category",value:G,onChange:function(e){return F(e.target.value)}})]}),Object(h.jsxs)(l.a.Group,{controlId:"description",children:[Object(h.jsx)(l.a.Label,{children:"Description"}),Object(h.jsx)(l.a.Control,{type:"text",placeholder:"Enter description",value:H,onChange:function(e){return K(e.target.value)}})]}),Object(h.jsx)(d.a,{type:"submit",variant:"primary",children:"Update"})]})]})]})}}}]);
//# sourceMappingURL=22.79d776f1.chunk.js.map