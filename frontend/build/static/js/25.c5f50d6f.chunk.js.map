{"version":3,"sources":["actions/product/listProducts.js","actions/product/deleteProduct.js","actions/product/createProduct.js","pages/ProductList.js"],"names":["PRODUCT_LIST_FAILURE","PRODUCT_CONSTANTS","PRODUCT_LIST_REQUEST","PRODUCT_LIST_SUCCESS","listProducts","keyword","pageNumber","dispatch","getState","a","type","axios","data","payload","response","message","PRODUCT_DELETE_SUCCESS","PRODUCT_DELETE_REQUEST","PRODUCT_DELETE_FAILURE","deleteProduct","id","userInfo","userLogin","config","headers","Authorization","token","delete","logout","PRODUCT_CREATE_REQUEST","PRODUCT_CREATE_SUCCESS","PRODUCT_CREATE_FAILURE","createProduct","post","PRODUCT_CREATE_RESET","useStyles","makeStyles","theme","root","flexGrow","title","marginTop","spacing","marginBottom","subTotalItem","boxShadow","table","minWidth","ProductList","history","match","classes","params","useDispatch","productList","useSelector","state","loading","error","products","page","pages","productDelete","loadingDelete","errorDelete","successDelete","success","productCreate","loadingCreate","errorCreate","successCreate","createdProduct","product","useEffect","isAdmin","push","_id","Row","className","Col","Button","onClick","Alert","severity","AlertTitle","TableContainer","component","Paper","Table","TableHead","TableRow","TableCell","align","TableBody","map","name","price","category","brand","to","variant","endIcon","color","window","confirm","Pagination","count","renderItem","item","PaginationItem","Link"],"mappings":"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","file":"static/js/25.c5f50d6f.chunk.js","sourcesContent":["\nimport axios from 'axios';\nimport PRODUCT_CONSTANTS from '../../constants/productConstants'\nconst {\n    PRODUCT_LIST_FAILURE,\n    PRODUCT_LIST_REQUEST,\n    PRODUCT_LIST_SUCCESS,\n   \n} = PRODUCT_CONSTANTS\n\n const listProducts =(keyword='',pageNumber= '') => async (dispatch, getState) => {\n   try {\n       dispatch({type: PRODUCT_LIST_REQUEST})\n       const {data} = await axios(`/api/products?keyword=${keyword}&pageNumber=${pageNumber}`)\n       dispatch({type: PRODUCT_LIST_SUCCESS, payload: data})\n   } catch (error) {\n       dispatch({\n           type: PRODUCT_LIST_FAILURE, \n           payload:  error?.response?.data?.message ?? error.message\n        })\n   }\n}\nexport default listProducts","import axios from 'axios';\nimport PRODUCT_CONSTANTS from '../../constants/productConstants'\nimport logout from \"../user/logout\"\nconst {\n    PRODUCT_DELETE_SUCCESS,\n    PRODUCT_DELETE_REQUEST,\n    PRODUCT_DELETE_FAILURE\n} = PRODUCT_CONSTANTS\n\nconst deleteProduct = (id) => async (dispatch, getState) => {\n    try {\n      dispatch({\n        type: PRODUCT_DELETE_REQUEST,\n      })\n  \n      const {\n        userLogin: { userInfo },\n      } = getState()\n  \n      const config = {\n        headers: {\n          Authorization: `Bearer ${userInfo.token}`,\n        },\n      }\n  \n      await axios.delete(`/api/products/${id}`, config)\n  \n      dispatch({\n        type: PRODUCT_DELETE_SUCCESS,\n      })\n    } catch (error) {\n      const message =\n        error.response && error.response.data.message\n          ? error.response.data.message\n          : error.message\n      if (message === 'Unauthorized,no token provide') {\n        dispatch(logout())\n      }\n      dispatch({\n        type: PRODUCT_DELETE_FAILURE,\n        payload: message,\n      })\n    }\n  }\n\n  export default deleteProduct","import axios from 'axios';\nimport PRODUCT_CONSTANTS from '../../constants/productConstants'\nimport logout from \"../user/logout\" \nconst {\n    PRODUCT_CREATE_REQUEST,\n    PRODUCT_CREATE_SUCCESS,\n    PRODUCT_CREATE_FAILURE,\n   \n} = PRODUCT_CONSTANTS\n \n const createProduct = () => async (dispatch, getState) => {\n    try {\n      dispatch({\n        type: PRODUCT_CREATE_REQUEST,\n      })\n  \n      const {\n        userLogin: { userInfo },\n      } = getState()\n  \n      const config = {\n        headers: {\n          Authorization: `Bearer ${userInfo.token}`,\n        },\n      }\n  \n      const { data } = await axios.post(`/api/products`, {}, config)\n  \n      dispatch({\n        type: PRODUCT_CREATE_SUCCESS,\n        payload: data,\n      })\n    } catch (error) {\n      const message =\n        error.response && error.response.data.message\n          ? error.response.data.message\n          : error.message\n      if (message === 'Unauthorized,no token provide') {\n        dispatch(logout())\n      }\n      dispatch({\n        type: PRODUCT_CREATE_FAILURE,\n        payload: message,\n      })\n    }\n  }\n\n  export default createProduct","import React, { useEffect } from 'react'\n\n\nimport { LinkContainer } from 'react-router-bootstrap'\nimport {  Row, Col } from 'react-bootstrap'\nimport { useDispatch, useSelector } from 'react-redux'\nimport {AiOutlinePlus,AiFillEdit} from 'react-icons/ai'\nimport {FaTrashAlt} from 'react-icons/fa'\nimport Typography from '@material-ui/core/Typography';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport CheckIcon from '@material-ui/icons/Check';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { Alert, AlertTitle } from '@material-ui/lab';\nimport Pagination from '@material-ui/lab/Pagination';\nimport PaginationItem from '@material-ui/lab/PaginationItem';\nimport {Link} from 'react-router-dom'\n  \nimport listProducts from '../actions/product/listProducts'\nimport deleteProduct from '../actions/product/deleteProduct'\nimport createProduct from '../actions/product/createProduct'\n\n\nimport PRODUCT_CONSTANTS from '../constants/productConstants'\n\nconst {\n    PRODUCT_CREATE_RESET\n} = PRODUCT_CONSTANTS\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  title: {\n    marginTop: theme.spacing(4),\n    marginBottom: theme.spacing(4),\n  },\n  subTotalItem: {\n      boxShadow: 'rgba(0, 0, 0, 0.25) 0px 25px 50px -12px',\n      marginTop: '3.3rem',\n      \n  },\n  table: {\n    minWidth: 650,\n  },\n}));\n\nconst ProductList = ({ history, match }) => {\n  const classes = useStyles();\n  const pageNumber = match.params.pageNumber || 1\n\n  const dispatch = useDispatch()\n\n  const productList = useSelector((state) => state.productList)\n  const { loading, error, products, page, pages } = productList\n\n  const productDelete = useSelector((state) => state.productDelete)\n  const {\n    loading: loadingDelete,\n    error: errorDelete,\n    success: successDelete,\n  } = productDelete\n\n  const productCreate = useSelector((state) => state.productCreate)\n  const {\n    loading: loadingCreate,\n    error: errorCreate,\n    success: successCreate,\n    product: createdProduct,\n  } = productCreate\n\n  const userLogin = useSelector((state) => state.userLogin)\n  const { userInfo } = userLogin\n\n \n\n  useEffect(() => {\n    dispatch({ type: PRODUCT_CREATE_RESET })\n\n    if (!userInfo || !userInfo.isAdmin) {\n      history.push('/login')\n    }\n\n    if (successCreate) {\n      history.push(`/admin/product/${createdProduct._id}/edit`)\n    } else {\n      dispatch(listProducts('', pageNumber))\n    }\n  }, [\n    dispatch,\n    history,\n    userInfo,\n    successDelete,\n    successCreate,\n    createdProduct,\n    pageNumber,\n  ])\n\n  const deleteHandler = (id) => {\n    if (window.confirm('Are you sure')) {\n      dispatch(deleteProduct(id))\n    }\n  }\n\n  const createProductHandler = () => {\n    dispatch(createProduct())\n    dispatch(listProducts('', pageNumber))\n  }\n\n  return (\n    <>\n      <Row className='align-items-center'>\n        <Col>\n          <h1>Products</h1>\n        </Col>\n        <Col className='text-right'>\n          <Button className='my-3' onClick={createProductHandler}>\n          <AiOutlinePlus/> Create Product\n          </Button>\n        </Col>\n      </Row>\n      {loadingDelete && <h2>Loading..</h2>}\n      {errorDelete &&   <Alert severity='error'>\n        <AlertTitle>Error</AlertTitle>\n          {errorDelete}\n          </Alert>}\n      {loadingCreate && <h2>Loading..</h2>}\n      {errorCreate &&   <Alert severity='error'>\n        <AlertTitle>Error</AlertTitle>\n          {errorCreate}\n          </Alert>}\n      {loading ? (\n        <h2>Loading..</h2>\n      ) : error ? (\n        <Alert severity='error'>\n        <AlertTitle>Error</AlertTitle>\n          {error}\n          </Alert>\n      ) : (\n        <>\n        <TableContainer component={Paper}>\n        <Table className={classes.table} aria-label=\"products' list\">\n        <TableHead>\n             <TableRow>\n                <TableCell>ID</TableCell>\n                <TableCell align=\"right\">NAME</TableCell>\n                <TableCell align=\"right\">PRICE</TableCell>\n                <TableCell align=\"right\">CATEGORY</TableCell>\n                <TableCell align=\"right\">BRAND</TableCell>\n                <TableCell align=\"right\"></TableCell>\n                </TableRow>\n                 </TableHead>\n                 <TableBody>\n              {products.map((product) => (\n                <TableRow key={product._id}>\n                  <TableCell>{product._id}</TableCell>\n                  <TableCell align=\"right\">{product.name}</TableCell>\n                  <TableCell align=\"right\">${product.price}</TableCell>\n                  <TableCell align=\"right\">{product.category}</TableCell>\n                  <TableCell align=\"right\">{product.brand}</TableCell>\n                  <TableCell align=\"right\">\n                    <LinkContainer to={`/admin/product/${product._id}/edit`}>\n                      <Button variant='light' className='btn-sm'>\n                      <AiFillEdit/>\n                      </Button>\n                    </LinkContainer>\n                    <Button\n                  \n                      endIcon={ <DeleteIcon color=\"secondary\"/>}\n                      onClick={() => deleteHandler(product._id)}\n                    >\n                    \n                    </Button>\n                  </TableCell>\n                </TableRow>\n              ))}\n           </TableBody>\n          </Table>\n          </TableContainer>\n          <Pagination\n              page={page}\n              count={pages}\n              renderItem={(item) => (\n                <PaginationItem\n                  component={Link}\n                  to={ `/admin/productlist/${item.page}`}\n                  {...item}\n                />\n              )}\n            />\n        </>\n      )}\n    </>\n  )\n}\n\nexport default ProductList"],"sourceRoot":""}