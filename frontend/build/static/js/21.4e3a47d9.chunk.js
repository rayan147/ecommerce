(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[21],{200:function(e,a,t){"use strict";a.a={NAME:"name",EMAIL:"email",PASSWORD:"password",CONFIRM_PASSWORD:"confirmPassword",ERROR_MESSAGE:"errorMessage",ADDRESS:"ADDRESS",COUNTRY:"COUNTRY",ZIP_CODE:"ZIP_CODE",CITY:"CITY",STATE:"STATE"}},228:function(e,a,t){"use strict";a.a={name:"",email:"",password:"",confirmPassword:"",errorMessage:null}},229:function(e,a,t){"use strict";var r=t(3),n=t(200),s=n.a.NAME,o=n.a.EMAIL,c=n.a.PASSWORD,i=n.a.CONFIRM_PASSWORD,l=n.a.ERROR_MESSAGE;a.a=function(e,a){switch(a.type){case s:return Object(r.a)(Object(r.a)({},e),{},{name:a.payload});case o:return Object(r.a)(Object(r.a)({},e),{},{email:a.payload});case c:return Object(r.a)(Object(r.a)({},e),{},{password:a.payload});case i:return Object(r.a)(Object(r.a)({},e),{},{confirmPassword:a.payload});case l:return{name:"",email:"",password:"",confirmPassword:"",errorMessage:a.errorMessage};default:return e}}},337:function(e,a,t){"use strict";t.r(a);var r=t(41),n=t(0),s=t(38),o=t(51),c=t(333),i=t(199),l=t(180),d=t(331),u=t(68),p=t(142),j=t(202),O=t(231),h=t(235),b=t(234),m=t(230),E=t(232),f=t(233),S=t(133),x=t(206),g=t.n(x),y=t(188),R=t.n(y),v=t(189),_=t(190),A=t.n(_),w=t(15),T=w.a.USER_DETAILS_REQUEST,I=w.a.USER_DETAILS_FAILURE,U=w.a.USER_DETAILS_SUCCESS,P=function(e){return function(){var a=Object(v.a)(R.a.mark((function a(t,r){var n,s,o,c,i,l,d,u;return R.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:T}),n=r(),s=n.userLogin.userInfo,o={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},a.next=6,A.a.get("/api/users/".concat(e),o);case 6:c=a.sent,i=c.data,t({type:U,payload:i}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),t({type:I,payload:null!==(l=null===a.t0||void 0===a.t0||null===(d=a.t0.response)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.message)&&void 0!==l?l:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e,t){return a.apply(this,arguments)}}()},D=t(9),C=D.a.ORDER_USER_LIST_SUCCESS,L=D.a.ORDER_USER_LIST_FAILURE,M=D.a.ORDER_USER_LIST_REQUEST_START,F=function(){return function(){var e=Object(v.a)(R.a.mark((function e(a,t){var r,n,s,o,c,i,l,d;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:M}),r=t(),n=r.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(n.token)}},e.next=6,A.a.get("/api/orders/myorders",s);case 6:o=e.sent,c=o.data,a({type:C,payload:c}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),a({type:L,payload:null!==(i=null===e.t0||void 0===e.t0||null===(l=e.t0.response)||void 0===l||null===(d=l.data)||void 0===d?void 0:d.message)&&void 0!==i?i:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(a,t){return e.apply(this,arguments)}}()},N=w.a.USER_UPDATE_PROFILE_REQUEST,k=w.a.USER_UPDATE_PROFILE_FAILURE,W=w.a.USER_UPDATE_PROFILE_SUCCESS,Q=w.a.USER_LOGIN_SUCCESS,q=(w.a.USER_UPDATE_PROFILE_RESTORE_REQUEST,function(e){return function(){var a=Object(v.a)(R.a.mark((function a(t,r){var n,s,o,c,i,l,d,u;return R.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:N}),n=r(),s=n.userLogin.userInfo,o={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},a.next=6,A.a.put("/api/users/profile",e,o);case 6:c=a.sent,i=c.data,t({type:W,payload:i}),t({type:Q,payload:i}),localStorage.setItem("userInfo",JSON.stringify(i)),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),t({type:k,payload:null!==(l=null===a.t0||void 0===a.t0||null===(d=a.t0.response)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.message)&&void 0!==l?l:a.t0.message});case 16:case"end":return a.stop()}}),a,null,[[0,13]])})));return function(e,t){return a.apply(this,arguments)}}()}),B=t(228),G=t(229),Y=t(200),z=t(2),J=w.a.USER_UPDATE_PROFILE_RESTORE_REQUEST,V=Y.a.NAME,Z=Y.a.EMAIL,H=Y.a.ERROR_Alert,K=Y.a.PASSWORD,X=Y.a.CONFIRM_PASSWORD,$=Object(p.a)((function(e){return{root:{flexGrow:1},title:{marginTop:e.spacing(4),marginBottom:e.spacing(4)},subTotalItem:{boxShadow:"rgba(0, 0, 0, 0.25) 0px 25px 50px -12px",marginTop:"3.3rem"},table:{minWidth:650}}}));a.default=function(e){e.location;var a=e.history,t=$(),p=Object(n.useReducer)(G.a,B.a),x=Object(r.a)(p,2),y=x[0],R=x[1],v=y.name,_=y.email,A=y.password,w=y.confirmPassword,T=y.errorAlert,I=Object(s.b)(),U=Object(s.c)((function(e){return e.userDetails})).user,D=Object(s.c)((function(e){return e.userLogin})).userInfo,C=Object(s.c)((function(e){return e.userUpdatedProfile})),L=C.success,M=C.error,N=Object(s.c)((function(e){return e.getUserListOrder})),k=N.isLoasding,W=N.error,Q=N.myOrders;Object(n.useEffect)((function(){D||a.push("/")}),[D,a]),Object(n.useEffect)((function(){if(!U||!U.name||L)return I({type:J}),I(P("profile")),void I(F())}),[U,L,I,N]),Object(n.useEffect)((function(){U&&U.name&&L&&(R({type:Z,payload:U.email}),R({type:V,payload:U.name}))}),[R,I,D,a,U,L]);return Object(z.jsx)(j.a,{container:!0,className:t.root,spacing:2,children:Object(z.jsx)(j.a,{item:!0,xs:12,children:Object(z.jsxs)(j.a,{container:!0,spacing:3,children:[Object(z.jsxs)(j.a,{item:!0,lg:3,children:[Object(z.jsx)(u.a,{component:"div",variant:"h5",className:t.title,color:"textSecondary",children:"User Profile"}),T&&Object(z.jsxs)(c.a,{severity:"error",children:[Object(z.jsx)(i.a,{children:"Error"}),T]}),L&&Object(z.jsxs)(c.a,{severity:"success",children:[Object(z.jsx)(i.a,{children:"Success"}),"Updated Details"]}),M&&Object(z.jsxs)(c.a,{severity:"error",children:[Object(z.jsx)(i.a,{children:"Error"}),M]}),Object(z.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),A===w){var a={user_id:U._id,name:y.name,email:y.email,password:y.password};I(q(a))}else R({type:H,errorAlert:"Passwords do not match"})},noValidate:!0,autoComplete:"off",children:[Object(z.jsx)(d.a,{label:"Name",type:"text",fullWidth:!0,id:"name",name:"name",autoComplete:"name",autoFocus:!0,placeholder:U.name,value:v,required:!0,onChange:function(e){return R({type:V,payload:e.target.value})}}),Object(z.jsx)(d.a,{label:"Email",type:"text",fullWidth:!0,id:"email",name:"email",autoComplete:"email",autoFocus:!0,placeholder:U.email,value:_,required:!0,onChange:function(e){return R({type:Z,payload:e.target.value})}}),Object(z.jsx)(d.a,{label:"Password",type:"password",fullWidth:!0,id:"password",name:"password",autoComplete:"current-password",autoFocus:!0,placeholder:U.password,value:A,required:!0,onChange:function(e){return R({type:K,payload:e.target.value})}}),Object(z.jsx)(d.a,{label:"Confirm Password",type:"password",fullWidth:!0,id:"confirmPassword",name:"confirmPassword",autoComplete:"current-password",autoFocus:!0,placeholder:U.password,value:w,required:!0,onChange:function(e){return R({type:X,payload:e.target.value})}}),Object(z.jsx)(l.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,style:{marginTop:".5rem"},children:"Update Profile"})]})]}),Object(z.jsxs)(j.a,{item:!0,lg:9,children:[Object(z.jsx)(u.a,{component:"div",variant:"h3",className:t.title,color:"textSecondary",children:"My Orders"}),k?Object(z.jsx)("div",{children:"Loading..."}):W?Object(z.jsxs)(c.a,{severity:"error",children:[Object(z.jsx)(i.a,{children:"Error"}),W]}):Object(z.jsx)(m.a,{component:S.a,children:Object(z.jsxs)(O.a,{className:t.table,"aria-label":"order's table",children:[Object(z.jsx)(E.a,{children:Object(z.jsxs)(f.a,{children:[Object(z.jsx)(b.a,{children:"ID"}),Object(z.jsx)(b.a,{align:"right",children:"DATE"}),Object(z.jsx)(b.a,{align:"right",children:"TOTAL"}),Object(z.jsx)(b.a,{align:"right",children:"PAID"}),Object(z.jsx)(b.a,{align:"right",children:"DELIVERED"}),Object(z.jsx)(b.a,{align:"right",children:"MORE INFO"})]})}),Object(z.jsx)(h.a,{children:null===Q||void 0===Q?void 0:Q.map((function(e){return Object(z.jsxs)(f.a,{children:[Object(z.jsx)(b.a,{component:"th",scope:"row",children:e._id}),Object(z.jsx)(b.a,{align:"right",children:e.createdAt.substring(0,10)}),Object(z.jsx)(b.a,{align:"right",children:e.totalPrice}),Object(z.jsx)(b.a,{align:"right",children:e.isPaid?e.paidAt.substring(0,10):Object(z.jsx)(g.a,{style:{color:"red"}})}),Object(z.jsx)(b.a,{align:"right",children:e.isDelivered?e.deliveredAt.substring(0,10):Object(z.jsx)(g.a,{style:{color:"red"}})}),Object(z.jsx)(b.a,{align:"right",children:Object(z.jsx)(o.Link,{to:"/order/".concat(e._id),children:Object(z.jsx)(l.a,{variant:"inherit",children:"Details"})})})]},e._id)}))})]})})]})]})})})}}}]);
//# sourceMappingURL=21.4e3a47d9.chunk.js.map