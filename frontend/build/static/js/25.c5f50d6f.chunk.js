(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[25],{223:function(e,t,r){"use strict";var n=r(188),a=r.n(n),c=r(189),s=r(190),i=r.n(s),o=r(13),d=o.a.PRODUCT_LIST_FAILURE,u=o.a.PRODUCT_LIST_REQUEST,j=o.a.PRODUCT_LIST_SUCCESS;t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){var r=Object(c.a)(a.a.mark((function r(n,c){var s,o,l,p,h;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:u}),r.next=4,i()("/api/products?keyword=".concat(e,"&pageNumber=").concat(t));case 4:s=r.sent,o=s.data,n({type:j,payload:o}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),n({type:d,payload:null!==(l=null===r.t0||void 0===r.t0||null===(p=r.t0.response)||void 0===p||null===(h=p.data)||void 0===h?void 0:h.message)&&void 0!==l?l:r.t0.message});case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e,t){return r.apply(this,arguments)}}()}},343:function(e,t,r){"use strict";r.r(t);var n=r(3),a=r(0),c=r(309),s=r(172),i=r(148),o=r(38),d=r(311),u=r(231),j=r(235),l=r(234),p=r(230),h=r(232),b=r(233),O=r(133),g=r(180),x=r(142),m=r(205),f=r.n(m),E=r(333),v=r(199),T=r(313),y=r(312),C=r(51),_=r(223),R=r(188),U=r.n(R),L=r(189),k=r(190),S=r.n(k),D=r(13),A=r(82),I=D.a.PRODUCT_DELETE_SUCCESS,w=D.a.PRODUCT_DELETE_REQUEST,P=D.a.PRODUCT_DELETE_FAILURE,N=function(e){return function(){var t=Object(L.a)(U.a.mark((function t(r,n){var a,c,s,i;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:w}),a=n(),c=a.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=6,S.a.delete("/api/products/".concat(e),s);case 6:r({type:I}),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),"Unauthorized,no token provide"===(i=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&r(Object(A.a)()),r({type:P,payload:i});case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,r){return t.apply(this,arguments)}}()},F=D.a.PRODUCT_CREATE_REQUEST,z=D.a.PRODUCT_CREATE_SUCCESS,B=D.a.PRODUCT_CREATE_FAILURE,Q=function(){return function(){var e=Object(L.a)(U.a.mark((function e(t,r){var n,a,c,s,i,o;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:F}),n=r(),a=n.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(a.token)}},e.next=6,S.a.post("/api/products",{},c);case 6:s=e.sent,i=s.data,t({type:z,payload:i}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),"Unauthorized,no token provide"===(o=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)&&t(Object(A.a)()),t({type:B,payload:o});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()},G=r(2),J=D.a.PRODUCT_CREATE_RESET,M=Object(x.a)((function(e){return{root:{flexGrow:1},title:{marginTop:e.spacing(4),marginBottom:e.spacing(4)},subTotalItem:{boxShadow:"rgba(0, 0, 0, 0.25) 0px 25px 50px -12px",marginTop:"3.3rem"},table:{minWidth:650}}}));t.default=function(e){var t=e.history,r=e.match,x=M(),m=r.params.pageNumber||1,R=Object(o.b)(),U=Object(o.c)((function(e){return e.productList})),L=U.loading,k=U.error,S=U.products,D=U.page,A=U.pages,I=Object(o.c)((function(e){return e.productDelete})),w=I.loading,P=I.error,F=I.success,z=Object(o.c)((function(e){return e.productCreate})),B=z.loading,W=z.error,Y=z.success,$=z.product,q=Object(o.c)((function(e){return e.userLogin})).userInfo;Object(a.useEffect)((function(){R({type:J}),q&&q.isAdmin||t.push("/login"),Y?t.push("/admin/product/".concat($._id,"/edit")):R(Object(_.a)("",m))}),[R,t,q,F,Y,$,m]);return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsxs)(s.a,{className:"align-items-center",children:[Object(G.jsx)(i.a,{children:Object(G.jsx)("h1",{children:"Products"})}),Object(G.jsx)(i.a,{className:"text-right",children:Object(G.jsxs)(g.a,{className:"my-3",onClick:function(){R(Q()),R(Object(_.a)("",m))},children:[Object(G.jsx)(d.b,{})," Create Product"]})})]}),w&&Object(G.jsx)("h2",{children:"Loading.."}),P&&Object(G.jsxs)(E.a,{severity:"error",children:[Object(G.jsx)(v.a,{children:"Error"}),P]}),B&&Object(G.jsx)("h2",{children:"Loading.."}),W&&Object(G.jsxs)(E.a,{severity:"error",children:[Object(G.jsx)(v.a,{children:"Error"}),W]}),L?Object(G.jsx)("h2",{children:"Loading.."}):k?Object(G.jsxs)(E.a,{severity:"error",children:[Object(G.jsx)(v.a,{children:"Error"}),k]}):Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(p.a,{component:O.a,children:Object(G.jsxs)(u.a,{className:x.table,"aria-label":"products' list",children:[Object(G.jsx)(h.a,{children:Object(G.jsxs)(b.a,{children:[Object(G.jsx)(l.a,{children:"ID"}),Object(G.jsx)(l.a,{align:"right",children:"NAME"}),Object(G.jsx)(l.a,{align:"right",children:"PRICE"}),Object(G.jsx)(l.a,{align:"right",children:"CATEGORY"}),Object(G.jsx)(l.a,{align:"right",children:"BRAND"}),Object(G.jsx)(l.a,{align:"right"})]})}),Object(G.jsx)(j.a,{children:S.map((function(e){return Object(G.jsxs)(b.a,{children:[Object(G.jsx)(l.a,{children:e._id}),Object(G.jsx)(l.a,{align:"right",children:e.name}),Object(G.jsxs)(l.a,{align:"right",children:["$",e.price]}),Object(G.jsx)(l.a,{align:"right",children:e.category}),Object(G.jsx)(l.a,{align:"right",children:e.brand}),Object(G.jsxs)(l.a,{align:"right",children:[Object(G.jsx)(c.LinkContainer,{to:"/admin/product/".concat(e._id,"/edit"),children:Object(G.jsx)(g.a,{variant:"light",className:"btn-sm",children:Object(G.jsx)(d.a,{})})}),Object(G.jsx)(g.a,{endIcon:Object(G.jsx)(f.a,{color:"secondary"}),onClick:function(){return t=e._id,void(window.confirm("Are you sure")&&R(N(t)));var t}})]})]},e._id)}))})]})}),Object(G.jsx)(T.a,{page:D,count:A,renderItem:function(e){return Object(G.jsx)(y.a,Object(n.a)({component:C.Link,to:"/admin/productlist/".concat(e.page)},e))}})]})]})}}}]);
//# sourceMappingURL=25.c5f50d6f.chunk.js.map