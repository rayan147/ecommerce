(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[17],{215:function(e,t,a){"use strict";var r=a(87),n=a(252),c=a.n(n),i=a(254),s=a.n(i),o=a(255),l=a.n(o),d=a(253),u=a.n(d),j=a(2),b=function(e){var t=e.value,a=e.text;e.color;return Object(j.jsxs)(j.Fragment,{children:[Object(r.a)(Array(5)).map((function(e,a){return Object(j.jsx)("span",{children:t>=a+1?Object(j.jsx)(c.a,{fontSize:"small",style:{color:u.a[500]}}):t>=a+.5?Object(j.jsx)(s.a,{fontSize:"small",style:{color:u.a[500]}}):Object(j.jsx)(l.a,{fontSize:"small",style:{color:u.a[500]}})},a)})),Object(j.jsxs)("small",{children:[" ",a&&a," "]})]})};b.defaultProps={color:"#f8e824",value:0},t.a=b},225:function(e,t,a){"use strict";a(0);var r=a(257),n=a(2),c=function(e){var t=e.title,a=e.description,c=e.keywords;return Object(n.jsxs)(r.a,{children:[Object(n.jsx)("title",{children:t}),Object(n.jsx)("meta",{name:"description",content:a}),Object(n.jsx)("meta",{name:"keyword",content:c})]})};c.defaultProps={title:"Welcome To ProduceX",description:"We sell organic locally grown produces",keywords:"veggies, buy veggies,vegetable, organic vegetable"},t.a=c},226:function(e,t,a){"use strict";var r=a(188),n=a.n(r),c=a(189),i=a(190),s=a.n(i),o=a(13),l=o.a.PRODUCT_DETAILS_FAILURE,d=o.a.PRODUCT_DETAILS_REQUEST,u=o.a.PRODUCT_DETAILS_SUCCESS;t.a=function(e){return function(){var t=Object(c.a)(n.a.mark((function t(a){var r,c,i,o,j;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:d}),t.next=4,s()("/api/products/".concat(e));case 4:r=t.sent,c=r.data,a({type:u,payload:c}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:l,payload:null!==(i=null===t.t0||void 0===t.t0||null===(o=t.t0.response)||void 0===o||null===(j=o.data)||void 0===j?void 0:j.message)&&void 0!==i?i:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}},258:function(e,t,a){"use strict";var r=a(1),n=a(4),c=a(20),i=a(0),s=(a(6),a(5)),o=a(7),l=a(8),d=i.forwardRef((function(e,t){var a=e.classes,c=e.className,o=e.component,d=void 0===o?"div":o,u=e.disableGutters,j=void 0!==u&&u,b=e.fixed,m=void 0!==b&&b,p=e.maxWidth,x=void 0===p?"lg":p,h=Object(n.a)(e,["classes","className","component","disableGutters","fixed","maxWidth"]);return i.createElement(d,Object(r.a)({className:Object(s.a)(a.root,c,m&&a.fixed,j&&a.disableGutters,!1!==x&&a["maxWidth".concat(Object(l.a)(String(x)))]),ref:t},h))}));t.a=Object(o.a)((function(e){return{root:Object(c.a)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),display:"block"},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),disableGutters:{paddingLeft:0,paddingRight:0},fixed:Object.keys(e.breakpoints.values).reduce((function(t,a){var r=e.breakpoints.values[a];return 0!==r&&(t[e.breakpoints.up(a)]={maxWidth:r}),t}),{}),maxWidthXs:Object(c.a)({},e.breakpoints.up("xs"),{maxWidth:Math.max(e.breakpoints.values.xs,444)}),maxWidthSm:Object(c.a)({},e.breakpoints.up("sm"),{maxWidth:e.breakpoints.values.sm}),maxWidthMd:Object(c.a)({},e.breakpoints.up("md"),{maxWidth:e.breakpoints.values.md}),maxWidthLg:Object(c.a)({},e.breakpoints.up("lg"),{maxWidth:e.breakpoints.values.lg}),maxWidthXl:Object(c.a)({},e.breakpoints.up("xl"),{maxWidth:e.breakpoints.values.xl})}}),{name:"MuiContainer"})(d)},261:function(e,t,a){"use strict";var r=a(1),n=a(4),c=a(0),i=(a(6),a(5)),s=a(7),o=a(81),l=Object(o.a)(c.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var d=c.forwardRef((function(e,t){var a=e.alt,s=e.children,o=e.classes,d=e.className,u=e.component,j=void 0===u?"div":u,b=e.imgProps,m=e.sizes,p=e.src,x=e.srcSet,h=e.variant,g=void 0===h?"circular":h,O=Object(n.a)(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),f=null,v=function(e){var t=e.src,a=e.srcSet,r=c.useState(!1),n=r[0],i=r[1];return c.useEffect((function(){if(t||a){i(!1);var e=!0,r=new Image;return r.src=t,r.srcSet=a,r.onload=function(){e&&i("loaded")},r.onerror=function(){e&&i("error")},function(){e=!1}}}),[t,a]),n}({src:p,srcSet:x}),y=p||x,w=y&&"error"!==v;return f=w?c.createElement("img",Object(r.a)({alt:a,src:p,srcSet:x,sizes:m,className:o.img},b)):null!=s?s:y&&a?a[0]:c.createElement(l,{className:o.fallback}),c.createElement(j,Object(r.a)({className:Object(i.a)(o.root,o.system,o[g],d,!w&&o.colorDefault),ref:t},O),f)}));t.a=Object(s.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},circular:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(d)},302:function(e,t,a){"use strict";var r=a(1),n=a(4),c=a(0),i=(a(6),a(5)),s=a(7),o=c.forwardRef((function(e,t){var a=e.disableSpacing,s=void 0!==a&&a,o=e.classes,l=e.className,d=Object(n.a)(e,["disableSpacing","classes","className"]);return c.createElement("div",Object(r.a)({className:Object(i.a)(o.root,l,!s&&o.spacing),ref:t},d))}));t.a=Object(s.a)({root:{display:"flex",alignItems:"center",padding:8},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiCardActions"})(o)},303:function(e,t,a){"use strict";var r=a(48),n=a(49);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(0)),i=(0,r(a(50)).default)(c.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");t.default=i},332:function(e,t,a){"use strict";a.r(t);var r=a(41),n=a(0),c=a.n(n),i=a(38),s=a(51),o=a(303),l=a.n(o),d=a(142),u=a(331),j=a(178),b=a(180),m=a(201),p=a(302),x=a(207),h=a(202),g=a(2),O=Object(d.a)((function(e){return{root:{flexGrow:1,marginTop:e.spacing(2),marginBottom:e.spacing(2)},item:{margin:e.spacing(2)},card:{width:"100%",boxShadow:"rgba(0, 0, 0, 0.06) 0px 2px 4px 0px inset"}}})),f=[{value:"",label:"Select"},{value:1,label:"Poor"},{value:2,label:"Fair"},{value:3,label:"Good"},{value:4,label:"Very Good"},{value:5,label:"Excellent"}],v=function(e){var t=e.submitHandler,a=e.loadingProductReview,r=e.handleChangeValue,n=e.handleChangeComment,c=e.comment,i=e.rating,s=O();return Object(g.jsx)(h.a,{className:s.root,children:Object(g.jsx)(h.a,{justifyContent:"center",spacing:1,children:Object(g.jsx)(m.a,{className:s.card,children:Object(g.jsxs)("form",{onSubmit:t,noValidate:!0,autoComplete:"off",children:[Object(g.jsxs)(x.a,{children:[Object(g.jsx)(h.a,{item:!0,xs:!0,className:s.item,children:Object(g.jsx)(u.a,{id:"options",select:!0,label:"Select",value:i,onChange:r,helperText:"Please rate your purchase with us.",children:f.map((function(e){return Object(g.jsxs)(j.a,{value:e.value,children:[e.value,"-",e.label]},e.value)}))})}),Object(g.jsx)(h.a,{item:!0,xs:!0,className:s.item,children:Object(g.jsx)(u.a,{id:"outlined-multiline-static",label:"Customer reviews",multiline:!0,rows:4,variant:"outlined",value:c,onChange:n})})]}),Object(g.jsx)(p.a,{children:Object(g.jsx)(b.a,{disabled:a,type:"submit",variant:"contained",color:"primary",children:"Submit"})})]})})})})},y=a(226),w=a(188),S=a.n(w),k=a(189),C=a(190),E=a.n(C),R=a(13),T=a(82),I=R.a.PRODUCT_CREATE_REVIEW_REQUEST,N=R.a.PRODUCT_CREATE_REVIEW_SUCCESS,W=R.a.PRODUCT_CREATE_REVIEW_FAILURE,_=function(e,t){return function(){var a=Object(k.a)(S.a.mark((function a(r,n){var c,i,s,o;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r({type:I}),c=n(),i=c.userLogin.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i.token)}},a.next=6,E.a.post("/api/products/".concat(e,"/reviews"),t,s);case 6:r({type:N}),a.next=14;break;case 9:a.prev=9,a.t0=a.catch(0),"Unauthorized,no token provide"===(o=a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message)&&r(Object(T.a)()),r({type:W,payload:o});case 14:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e,t){return a.apply(this,arguments)}}()},L=a(333),P=a(199),A=a(177),F=a(134),D=a(176),z=a(132),U=a(1),B=a(4),M=(a(6),a(5)),H=a(7),V=a(29),G=n.forwardRef((function(e,t){var a=e.classes,r=e.className,c=Object(B.a)(e,["classes","className"]),i=n.useContext(V.a);return n.createElement("div",Object(U.a)({className:Object(M.a)(a.root,r,"flex-start"===i.alignItems&&a.alignItemsFlexStart),ref:t},c))})),q=Object(H.a)({root:{minWidth:56,flexShrink:0},alignItemsFlexStart:{marginTop:8}},{name:"MuiListItemAvatar"})(G),Q=a(261),X=a(68),J=a(215),$=Object(d.a)((function(e){return{root:{width:"100%",maxWidth:"36ch",marginTop:e.spacing(9),marginBottom:e.spacing(9),backgroundColor:e.palette.background.paper},inline:{display:"inline"},ListItemMargin:{marginTop:e.spacing(2),marginBottom:e.spacing(2)}}})),K=function(e){var t=e.product,a=$(),r=t.reviews;return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(A.a,{className:a.root,children:[Object(g.jsx)(F.a,{alignItems:"flex-start",children:Object(g.jsx)(z.a,{primary:Object(g.jsx)(X.a,{component:"span",variant:"h5",gutterBottom:!0,children:Object(g.jsx)("strong",{children:" Customer reviews "})}),secondary:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(J.a,{value:t.rating,text:"".concat(t.rating," out of 5")}),Object(g.jsx)(z.a,{primary:"Total ratings",secondary:Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(X.a,{component:"span",variant:"h5",gutterBottom:!0,children:Object(g.jsxs)("strong",{children:[" ","".concat(t.rating," out of 5")," "]})})})})]})})}),r.map((function(e){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(F.a,{alignItems:"flex-start",className:a.ListItemMargin,children:[Object(g.jsx)(q,{children:Object(g.jsx)(Q.a,{alt:e.name})}),Object(g.jsx)(z.a,{primary:Object(g.jsx)("strong",{children:e.name}),secondary:Object(g.jsxs)(c.a.Fragment,{children:[Object(g.jsx)(X.a,{component:"span",variant:"body2",className:a.inline,color:"textPrimary",children:Object(g.jsx)(J.a,{value:e.rating})}),Object(g.jsx)(z.a,{primary:e.comment,secondary:e.createdAt.substring(0,10)})]})})]},e._id),Object(g.jsx)(D.a,{variant:"inset",component:"li"})]})}))]})})},Y=a(87),Z=a(27),ee=a(224),te=a(225),ae=Object(d.a)((function(e){return{root:Object(Z.a)({display:"flex",height:"100%",width:"100%",marginBottom:"2rem",marginTop:"3rem",boxShadow:"rgba(0, 0, 0, 0.06) 0px 2px 4px 0px inset"},e.breakpoints.down("sm"),{flexDirection:"column",marginBottom:"1rem",marginTop:"1rem"}),cover:{width:400,height:400,minWidth:200,minHeight:200,boxShadow:"rgba(0, 0, 0, 0.1) 0px 4px 6px -1px, rgba(0, 0, 0, 0.06) 0px 2px 4px -1px"}}})),re=function(e){var t=e.product,a=e.addToCartHandler,r=e.qty,n=e.setQty,c=t.countInStock,i=t.image,s=t.name,o=t.numReviews,l=t.price,d=t.description,O=ae();return Object(g.jsxs)(h.a,{container:!0,spacing:5,justifyContent:"center",children:[Object(g.jsx)(te.a,{title:s,description:d,keywords:d}),Object(g.jsxs)(m.a,{className:O.root,children:[Object(g.jsx)(h.a,{item:!0,xs:5,md:7,children:Object(g.jsx)(ee.a,{className:O.cover,image:i,title:s})}),Object(g.jsxs)(h.a,{item:!0,children:[Object(g.jsxs)(x.a,{children:[Object(g.jsxs)(X.a,{variant:"subtitle1",color:"secondary",children:["$",l]}),Object(g.jsx)(X.a,{variant:"subtitle1",color:"textSecondary",gutterBottom:!0,children:Object(g.jsx)(J.a,{value:t.rating,text:"".concat(o," rating")})}),Object(g.jsx)(X.a,{gutterBottom:!0,children:Object(g.jsxs)("strong",{children:["  ",s]})}),Object(g.jsx)(X.a,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:d}),c>0&&Object(g.jsx)(u.a,{id:"countInStockId",select:!0,label:c>0?Object(g.jsx)("strong",{style:{color:"green"},children:"In stock"}):"Out of stock",value:r,onChange:function(e){return n(e.target.value)},helperText:"Please select your quantity",children:Object(Y.a)(Array(c).keys()).map((function(e){return Object(g.jsx)(j.a,{value:e+1,children:e+1},e+1)}))})]}),Object(g.jsx)(p.a,{children:Object(g.jsx)(b.a,{variant:"contained",color:"primary",onClick:a,disabled:0===c,children:"Add to cart"})})]})]})]})},ne=a(258),ce=R.a.PRODUCT_CREATE_REVIEW_RESET;t.default=function(e){var t=e.history,a=e.match,c=Object(n.useState)(1),o=Object(r.a)(c,2),d=o[0],u=o[1],j=Object(i.b)(),b=Object(n.useState)(0),m=Object(r.a)(b,2),p=m[0],x=m[1],h=Object(n.useState)(""),O=Object(r.a)(h,2),f=O[0],w=O[1],S=Object(i.c)((function(e){return e.userLogin})).userInfo,k=Object(i.c)((function(e){return e.productDetails})),C=k.error,E=k.isLoading,R=k.product,T=Object(i.c)((function(e){return e.productReviewCreate})),I=T.success,N=T.loading,W=T.error;Object(n.useEffect)((function(){I&&(x(0),w("")),R._id&&R._id===a.params.id||(j(Object(y.a)(a.params.id)),j({type:ce}))}),[j,a,I,R._id]);return Object(g.jsxs)(ne.a,{className:"",children:[Object(g.jsx)(s.Link,{to:"/",children:Object(g.jsx)(l.a,{size:"large"})}),E?Object(g.jsx)("h1",{children:"Almost  There ..."}):C?Object(g.jsx)(L.a,{severity:"error",children:Object(g.jsx)(P.a,{children:C})}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(re,{product:R,qty:d,setQty:u,addToCartHandler:function(){t.push("/cart/".concat(a.params.id,"?qty=").concat(d))}}),0===R.reviews.length&&Object(g.jsx)(L.a,{severity:"error",children:Object(g.jsx)(P.a,{children:"No Reviews"})}),Object(g.jsx)(K,{product:R}),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h2",{children:"Write a Customer Review"}),I&&Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(L.a,{severity:"success",children:Object(g.jsx)(P.a,{children:"Review submitted successfully"})})}),N&&Object(g.jsx)("h4",{children:"Loading..."}),W&&Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(L.a,{severity:"error",children:Object(g.jsx)(P.a,{children:W})})}),S?Object(g.jsx)(v,{submitHandler:function(e){e.preventDefault(),j(_(a.params.id,{rating:p,comment:f}))},loadingProductReview:N,handleChangeValue:function(e){e.preventDefault(),x(e.target.value)},handleChangeComment:function(e){e.preventDefault(),w(e.target.value)},comment:f,rating:p}):Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(L.a,{severity:"info",children:Object(g.jsxs)(P.a,{children:["Please ",Object(g.jsx)(s.Link,{to:"/login",children:"sign in"})," to write a review"," "]})})})]})]})]})}}}]);
//# sourceMappingURL=17.540b9491.chunk.js.map